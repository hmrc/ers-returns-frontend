@*
 * Copyright 2020 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import utils.ERSUtil
@import config.ApplicationConfig
@import utils.CountryCodes
@(requestObject: RequestObject, index: Int, companyDetails: Form[models.CompanyDetails])(implicit request: Request[AnyRef], flash: Flash, messages: Messages, ersUtil: ERSUtil, countryCodes: CountryCodes, appConfig: ApplicationConfig)
@* manual company details Template *@
@schemeId = @{requestObject.getSchemeId}
@import uk.gov.hmrc.play.views.html.helpers
@import views.html.helpers.error_overview
@import views.html.templates._
@scripts = {
	<script src='@routes.Assets.at("javascripts/ers_company.js")'> </script>
}

@ers_main(title = ersUtil.getPageElement(schemeId, "ers", "group_add.page_title") + " " + messages("ers.title.postfix"), scripts) {

	@reference(requestObject.getPageTitle)
	<p class="font-xsmall"><a href="@routes.GroupSchemeController.groupSchemePage" class="link-back">@Html(messages("ers.back"))</a></p>
	@if(companyDetails.hasErrors) {
		@helpers.errorSummary(messages("validation.summary.heading"), companyDetails)
	}
	@header(ersUtil.getPageElement(schemeId, ersUtil.PAGE_MANUAL_COMPANY_DETAILS, "title"))
	@helpers.form(action = routes.GroupSchemeController.manualCompanyDetailsSubmit(index)) {
		<div class="form-group">
			<fieldset class="inline">
				<legend class="form-label">@Html(ersUtil.getPageElement(schemeId, ersUtil.PAGE_MANUAL_COMPANY_DETAILS, "question"))</legend>
				<div class="multiple-choice">
					<input id="uk-radio-button" name="radio-inline-group" value="1" type="radio" @if(companyDetails(companyDetailsFields.country).value.contains(ersUtil.DEFAULT_COUNTRY) || companyDetails(companyDetailsFields.country).value.isEmpty) {checked="checked"}>@messages("ers_manual_company_details.uk")
					<label class="@if(companyDetails(companyDetailsFields.country).value.contains(ersUtil.DEFAULT_COUNTRY) || companyDetails(companyDetailsFields.country).value.isEmpty) {selected}" for="uk-radio-button"></label>
				</div>
				<div class="multiple-choice">
					<input id="overseas-radio-button" name="radio-inline-group" value="2" type="radio" @if(!companyDetails(companyDetailsFields.country).value.contains(ersUtil.DEFAULT_COUNTRY) && companyDetails(companyDetailsFields.country).value.isDefined) {checked="checked"}>@messages("ers_manual_company_details.overseas")
					<label class="@if(!companyDetails(companyDetailsFields.country).value.contains(ersUtil.DEFAULT_COUNTRY) && companyDetails(companyDetailsFields.country).value.isDefined) {selected}" for="overseas-radio-button"></label>
				</div>
			</fieldset>
		</div>
		<div class="form-group">
			@helpers.input(companyDetails(companyDetailsFields.companyName), '_label -> messages("ers_manual_company_details.company_name"), '_inputClass -> "form-control form-control--block")
		</div>
		<div class="form-group @if(companyDetails.error(trusteeDetailsFields.addressLine1).isDefined) {form-field--error}">
			<label for="addressLine1" class="form-label">
				<span>@messages("ers_manual_company_details.address")</span>
				<span class="visuallyhidden">@messages("ers_manual_company_details.addressLine1")</span>
				@if(companyDetails.error(companyDetailsFields.addressLine1).isDefined) {<span class="error-notification" role="tooltip">@companyDetails.errors(companyDetailsFields.addressLine1).head.message</span>}
				<input id="addressLine1" type="text" class="form-control form-control--block" name="addressLine1" value="@companyDetails(companyDetailsFields.addressLine1).value">
			</label>
		</div>
		<div class="form-group">
			@helpers.input(companyDetails(companyDetailsFields.addressLine2), '_label -> messages("ers_manual_company_details.addressLine2"), '_labelTextClass -> "visuallyhidden", '_inputClass -> "form-control form-control--block")
		</div>
		<div class="form-group">
			@helpers.input(companyDetails(companyDetailsFields.addressLine3), '_label -> messages("ers_manual_company_details.addressLine2"), '_labelTextClass -> "visuallyhidden", '_inputClass -> "form-control form-control--block")
		</div>
		<div class="form-group">
			@helpers.input(companyDetails(companyDetailsFields.addressLine4), '_label -> messages("ers_manual_company_details.addressLine2"), '_labelTextClass -> "visuallyhidden", '_inputClass -> "form-control form-control--block")
		</div>
		<div class="form-group country-group">
			<label for="country" class="form-label" id="countryLbl">
				<span>@messages("ers_manual_company_details.country")</span>
			</label>
			@views.html.includes.countries(companyDetails(companyDetailsFields.country).value)
		</div>
		<div class="form-group postcode-group">
			@helpers.input(companyDetails(companyDetailsFields.postcode), '_label -> messages("ers_manual_company_details.postcode"), '_inputClass -> "form-control form-control--block")
		</div>
		<div class="form-group company-reg-group">
			@helpers.input(companyDetails(companyDetailsFields.companyReg), '_label -> messages("ers_manual_company_details.company_reg_number"), '_inputHint -> messages("ers_manual_company_details.company_reg_number.hint"),'_inputClass -> "form-control form-control--block")
		</div>
		<div class="form-group corporation-ref-group">
			@helpers.input(companyDetails(companyDetailsFields.corporationRef), '_label -> messages("ers_manual_company_details.corporation_tax_ref"), '_inputHint -> messages("ers_manual_company_details.corporation_tax_ref.hint"),'_inputClass -> "form-control form-control--block")
		</div>
		<input role="button" id="continue" class="button" type="submit" value="@Html(messages("ers_manual_company_details.continue"))" >
	}

}
